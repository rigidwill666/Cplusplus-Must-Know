内存管理是操作系统的重要功能之一，主要负责对计算机内存资源进行有效的分配、使用、回收和保护等操作，以确保系统的稳定运行和高效利用内存资源。

# 工作内容
- 内存分配与回收
- 内存映射
  将逻辑地址（程序中使用的地址）转换为物理地址（实际内存中的地址）。现代操作系统通常采用虚拟内存技术，为每个进程提供独立的虚拟地址空间，内存管理系统负责维护虚拟地址到物理地址的映射关系。
- 内存保护
  确保不同进程之间的内存空间相互隔离，防止一个进程非法访问或修改另一个进程的内存数据，从而保证系统的稳定性和安全性。
- 虚拟内存管理
  由于物理内存容量有限，而程序运行时可能需要大量的内存空间，虚拟内存技术允许操作系统将一部分硬盘空间模拟成内存使用。当物理内存不足时，内存管理系统会将一些暂时不使用的内存页面交换到硬盘上的虚拟内存中，腾出物理内存供其他程序使用；当需要访问这些页面时，再将其从硬盘调回物理内存。
- 内存碎片整理
  在频繁的内存分配和回收过程中，可能会产生内存碎片，即内存中存在许多分散的、较小的空闲内存块，无法满足较大的内存分配请求。内存管理系统会通过一定的算法对内存进行整理，将这些小的空闲内存块合并成较大的连续内存块，以提高内存的利用率。
# 管理方式
## 连续内存管理
### 块式管理
将内存空间划分为若干个固定大小的块，每个块只包含一个进程。

块大小固定，会产生内部碎片，内存利用率不高。
## 非连续内存管理
### 分段存储管理
将进程的逻辑地址空间划分为若干个大小不等的段，每个段（一段连续的物理内存）有自己的名字和长度，内存分配以段为单位，段在内存中可以离散存储。

会产生外部碎片，段表管理复杂，地址转换开销较大。
### 分页存储管理
将进程的逻辑地址空间和内存的物理地址空间都划分为大小相等的页，进程的页可以离散地存储在内存的不同页框中。

会产生内部碎片，页表需要占用一定的内存空间，地址转换过程有一定的时间开销。
### 段页式存储管理
结合了分页和分段的优点，先将进程的逻辑地址空间划分为若干个段，再将每个段划分为若干个大小相等的页，内存分配以页为单位。

管理复杂，地址转换需要多次访问内存，开销较大。
## 虚拟内存
通过将一部分硬盘空间作为虚拟内存，使得进程可以在逻辑上使用比实际物理内存更大的地址空间。当物理内存不足时，将暂时不用的内存页面换出到磁盘，需要时再换入。

扩大了进程可使用的内存空间，提高了系统的并发度，使多个进程能更有效地共享内存资源。

页面换入换出会带来一定的时间开销，若页面置换算法不合理，可能导致系统性能下降，出现抖动现象。
> 虚拟地址和物理地址？：
>
> 虚拟地址是应用程序或进程所使用的地址，属于逻辑地址空间；物理地址是内存芯片上存储单元的实际地址，它对应着计算机内存的真实物理位置，是内存控制器用来读写内存的地址。虚拟地址与物理地址之间通过**内存管理单元（MMU）** 进行转换，MMU 将虚拟地址翻译为物理地址的主要机制有 3 种:分段机制&分页机制&段页机制。


