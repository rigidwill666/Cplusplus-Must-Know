# 基本概念
在 Linux 操作系统中，一切被操作系统管理的资源，如网络接口卡、磁盘驱动器、打印机、输入输出设备、普通文件或目录等，都被视为文件。这是 Linux 系统中一个重要的概念，即**一切都是文件**。
# 系统结构
Linux 文件系统是树形结构，最顶层是根目录 /，所有文件和目录都从这里开始，类似一棵倒挂的树。
## 主要目录
| 目录      | 含义 |
| ----------- | ----------- |
| /bin | 存放二进制可执行文件(ls、cat、mkdir 等)，常用命令一般都在这里 |
| /sbin | 存放的是系统管理员使用的系统级别的管理命令和程序。如 ifconfig 等 |
| /etc | 存放系统管理和配置文件 |
| /home | 存放所有用户文件的根目录，如/home/alice |
| /root | 超级用户（系统管理员）的主目录 |
| /var | 用于存放运行时需要改变数据的文件，比如各种服务的日志文件 |
| /tmp | 用于存放各种临时文件 |
| /dev | 用于存放设备文件 |
| /proc | 虚拟文件系统目录，是系统内存的映射 |
| /usr | 用于存放系统应用程序 |
| /opt | 额外安装的可选应用程序包所放置的位置 |
| /mnt | 系统管理员安装临时文件系统的安装点 |
| /lib 和/lib64 | 存放着和系统运行相关的库文件 |
| /boot | 存放用于系统引导时使用的各种文件 |
# 文件类型
Linux 支持很多文件类型，其中非常重要的文件类型有: **普通文件，目录文件，链接文件，设备文件，管道文件，Socket 套接字文件**等。
| 类型      | 描述 |
| ----------- | ----------- |
| 普通文件（-） | 文本、图片、程序等 |
| 目录文件（d） | 文件夹 |
| 链接文件（l） | 保留了指向文件的地址而不是文件本身 |
| 设备文件（b） | 用来访问块设备比如硬盘、软盘 |
| 字符设备（c） | 用来访问字符设备比如键盘 |
| 套接字文件（s） | 用于进程间的网络通信，也可以用于本机之间的非网络通信 |
| 管道文件（p） | 一种特殊类型的文件，用于进程之间的通信 |
# inode与块机制（底层存储原理）
Linux 文件系统的底层采用**inode + 数据块**的方式：

- inode：一种固定大小的数据结构，记录文件的属性信息（权限、拥有者、时间、指向的数据块位置等），存储指向数据块的指针，访问速度非常快

> 可以使用 stat 命令可以查看文件的 inode 信息，包括文件的 inode 号、文件类型、权限、所有者、文件大小、修改时间
- 数据块：实际存储文件内容的区域。**一个块只能存放一个文件**，一个文件大于一个块时，将占用多个 block
## 硬链接和软链接
在 Linux/类 Unix 系统上，文件链接是一种特殊的文件类型，可以在文件系统中指向另一个文件。

1. 硬链接

    硬链接是指向文件 inode 的**另一个名字**，多个文件名指向同一个 inode 和数据块。删除原始文件不会影响硬链接，因为它们其实是“同一个文件”的多个名字。

    不能对目录以及不存在的文件创建硬链接，不可跨文件系统创建（同一分区才行）。

    适合需要保持多个访问入口，并希望内容一致、稳定的场景（如备份内部文件）。

    **创建方式**
  
    ~~~
    ln 原文件 硬链接名
    ~~~
3. 软链接

   软链接是一个特殊的文件，它里面保存的是**原文件的路径**，就像 Windows 里的快捷方式。是一个独立的文件，有自己的 inode。原始文件删除后，软链接会“失效”（变成悬挂链接），指向的是一个无效的文件路径。

   可以对目录或者不存在的文件创建软链接，可以跨文件系统。

   更灵活，适合配置文件、快捷访问路径等。

   **创建方式**

   ~~~
   ln -s 原文件 软链接名
   ~~~
