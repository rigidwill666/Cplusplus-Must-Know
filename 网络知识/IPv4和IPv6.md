# IPv4
## 定义与地址格式
IPv4 是互联网协议的第四个版本，也是目前广泛使用的版本。它使用 **32 位**二进制数来表示 IP 地址，通常以点分十进制的形式表示，例如 192.168.1.1。
## 地址空间
IPv4 的地址空间为 2^32，大约有 43 亿个地址。然而，由于地址分配的不合理以及网络的快速发展，IPv4 地址资源已经逐渐枯竭。
## 包头结构
IPv4 包头包含多个字段，如版本号、首部长度、服务类型、总长度、标识、标志位、片偏移、生存时间、协议、首部校验和、源地址和目的地址等。这些字段用于标识数据包的来源、目的地、传输控制信息等。
## 应用场景
广泛应用于各种网络环境，包括家庭网络、企业网络和互联网服务提供商（ISP）网络等。支持各种网络应用，如网页浏览、文件传输、电子邮件、视频会议等。
# IPv6
## 定义与地址格式
IPv6 是互联网协议的第六个版本，旨在解决 IPv4 地址耗尽的问题。它使用 **128 位**二进制数来表示 IP 地址，通常以冒号十六进制的形式表示，例如 2001:0db8:85a3:0000:0000:8a2e:0370:7334。
## 地址空间
IPv6 的地址空间为 2^128，地址数量极其庞大，可以为地球上的每一粒沙子分配一个唯一的 IP 地址，从根本上解决了地址短缺的问题。
## 包头结构
IPv6 包头相对 IPv4 包头更加简洁，包含版本、流量类别、流标签、有效载荷长度、下一个首部、跳数限制、源地址和目的地址等字段。去掉了一些 IPv4 包头中的冗余字段，提高了数据包的处理效率。
## 主要特性
自动配置：IPv6 支持自动配置地址，设备可以自动获取网络配置信息，无需手动设置或依赖 DHCP 服务器。

更好的安全性：IPv6 内置了 IPsec（IP 安全协议），提供了加密和认证功能，增强了网络通信的安全性。

高效的路由：IPv6 的地址分配遵循聚类原则，使得路由器可以更高效地进行路由选择，减少路由表的大小，提高路由效率。
## 应用场景
随着物联网、5G 等技术的发展，IPv6 在智能设备连接、大规模网络部署等方面具有广阔的应用前景。许多新型网络应用和设备开始逐渐采用 IPv6 协议，以充分利用其丰富的地址资源和先进的特性。
# 区别
- 地址数量：IPv4 地址数量有限，而 IPv6 地址数量几乎是无限的。
- 包头复杂度：IPv4 包头相对复杂，包含较多的字段；IPv6 包头简洁，提高了数据包处理速度。
- 安全性：IPv6 通过内置 IPsec 提供了更好的安全性，而 IPv4 通常需要额外的安全机制来保障网络安全。
- 兼容性：IPv4 和 IPv6 不直接兼容，需要通过一些过渡技术，如双栈技术、隧道技术和转换技术等，来实现两者之间的互联互通，以确保在过渡期间网络的正常运行。
